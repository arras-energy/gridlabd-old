# Module
The following feature(s) are added to the MySQL module.

## Export command
The `export` command supports the following options
* `--graph`: Use this option to enable output of a general graph to the mysql database. Example GLM:
~~~~
export --graph my_database;
~~~~
* `--guid`: Use this option with `--graph` to convert all object id numbers to globally unique identifiers. Example GLM:
~~~~
export --graph --guid my_database;
~~~~
* `--no_transaction`: Use this with `--graph` to output the graph without using a single transaction. Example GLM:
~~~~
export --graph --no_transaction my_database;
~~~~
Note: use of this option can result in a corrupted database if the export command does not complete successfully.

## Graph Schema
The graph model is structured as follows:
~~~~
CREATE TABLE `edge` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `from` bigint(20) unsigned NOT NULL,
  `to` bigint(20) unsigned NOT NULL,
  `type` char(64) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `u_from_to_type` (`from`,`to`,`type`),
  KEY `i_to_type` (`to`,`type`),
  KEY `i_type` (`type`)
)
CREATE TABLE `edgeattr` (
  `id` bigint(20) unsigned NOT NULL,
  `name` char(64) NOT NULL,
  `value` char(255) NOT NULL,
  PRIMARY KEY (`id`,`name`),
  KEY `i_name_value` (`name`,`value`)
)
CREATE TABLE `node` (
  `id` bigint(20) unsigned NOT NULL,
  `type` char(64) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `i_type` (`type`)
)
CREATE TABLE `nodeattr` (
  `id` bigint(20) unsigned NOT NULL,
  `name` char(64) NOT NULL,
  `value` char(255) NOT NULL,
  PRIMARY KEY (`id`,`name`),
  KEY `i_name_value` (`name`,`value`)
)
~~~~
### Nodes
Nodes refer to objects in the GridLAB-D model.  Records in `node` contain a tuple that provides the node id and the node type. The node id is the object GridLAB-D id number (or guid if the `--guid` option was specified).  The node type is the object's GridLAB-D class.

### Node Attributes
Node attributes refer to the properties of nodes.  For property published by a GridLAB-D class, a corresponding record will be added to `nodeattr`, where the node id, the property name, and the property value are given.  Note that all properties (except `object`, see Edges below) are output for a given class, not just those provided in the GLM file.

### Edges
Edges refer to relationships between objects in GridLAB-D.  Relationship are described as a relation id, the from and to ids of the objects involved, and the type of the relation.  Two kinds of relationship types are generated by the `export` function.  The parent relationship (if present) is output with type `parent`. In addition, any property of type `object` is output.

### Edge Attributes
Edge attributes refer to the properties of edges. At the time GridLAB-D does not use edge attributes.
